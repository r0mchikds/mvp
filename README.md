# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤

**MVP-—Å–µ—Ä–≤–∏—Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π** –¥–ª—è –º–∞–ª–æ–≥–æ –∏ —Å—Ä–µ–¥–Ω–µ–≥–æ e-commerce,  
–≥–æ—Ç–æ–≤—ã–π –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö —Å –ø–æ–º–æ—â—å—é Docker Compose.

–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª ‚Äî –æ—Ç –æ–±—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏–≤–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è API, UI –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤.

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø—Ä–æ—Ç–æ—Ç–∏–ø —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–π:
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–µ–∫—Å—Ç—ã –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤);
- –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ RabbitMQ;
- –∏–º–µ–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Streamlit;
- –ª–µ–≥–∫–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≤ Docker.

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|------------|-------------|
| **Backend (API)** | FastAPI ¬∑ SQLModel ¬∑ PostgreSQL |
| **ML-–∏–Ω—Ñ–µ—Ä–µ–Ω—Å** | PyTorch ¬∑ FAISS ¬∑ gdown |
| **–û—á–µ—Ä–µ–¥–∏** | RabbitMQ ¬∑ pika |
| **Frontend (UI)** | Streamlit |
| **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | Docker Compose ¬∑ Nginx |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | pytest ¬∑ SQLite in-memory |

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

- **FastAPI (app):** –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞, —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ.  
- **ML Worker:** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ ‚Äî –ø–æ–ª—É—á–∞–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—â–µ—Ç –ø–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ FAISS, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ API.  
- **Streamlit UI:** —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø–æ–∏—Å–∫, –ª–∞–π–∫–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.  
- **PostgreSQL:** –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ç–æ–≤–∞—Ä–æ–≤ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π.  
- **Nginx:** —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞.

---

## üß† –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

–ú–æ–¥–µ–ª—å –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏–≤–Ω–æ–º –æ–±—É—á–µ–Ω–∏–∏ –≤ —Å—Ç–∏–ª–µ CLIP:

- –ö–∞–∂–¥–æ–º—É —Ç–æ–≤–∞—Ä—É —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —ç–º–±–µ–¥–¥–∏–Ω–≥, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.  
- –í–µ–∫—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî —Å—Ä–µ–¥–Ω–µ–µ –ø–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º –ª–∞–π–∫–Ω—É—Ç—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.  
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å (InfoNCE Loss) —Å–±–ª–∏–∂–∞–µ—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä—ã *user‚Äìitem* –∏ –æ—Ç–¥–∞–ª—è–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ.  
- –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **FAISS** –ø–æ dot-product –º–µ—Ç—Ä–∏–∫–µ.

üìà **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:**  
`Precision@10 = 0.003`, `MAP@10 = 0.0075`  
(–≤ 2 —Ä–∞–∑–∞ –≤—ã—à–µ popular-–±–µ–π–∑–ª–∞–π–Ω–∞).

---

## üì¶ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (JWT)  
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ  
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ ML-–≤–æ—Ä–∫–µ—Ä–∞–º–∏  
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–¥–∞—á –≤ –ë–î  
- Streamlit-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –∏ –¥–∞–Ω–Ω—ã—Ö —Å Google Drive  
- –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ Docker

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ app/              # FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (backend)
‚îú‚îÄ‚îÄ ml_worker/        # –í–æ—Ä–∫–µ—Ä—ã ML-–∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
‚îú‚îÄ‚îÄ streamlit_ui/     # Streamlit-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ nginx/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx
‚îú‚îÄ‚îÄ docker-compose.yaml
‚îî‚îÄ‚îÄ README.md
```

---

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.12+
- Docker / Docker Compose
- gdown —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏)

---

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –∏ –¥–∞–Ω–Ω—ã—Ö

–ú–æ–¥–µ–ª—å –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏–≤–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è `contrastive_rating_best.pth` –∏ –¥–∞–Ω–Ω—ã–µ `amazon_items_projected.csv` –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

---

### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ**, —É–∫–∞–∑–∞–≤:

   ```dotenv
   DATA_FILE_ID=xxx
   MODEL_FILE_ID=xxx
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**

   ```bash
   docker-compose up --build
   ```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**

   * API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [http://localhost:8080/docs](http://localhost:8080/docs)
   * –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Streamlit: [http://localhost:8501](http://localhost:8501)

---

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤:

```bash
docker exec -it recs-api pytest -v
```

–†–∞–±–æ—Ç–∞–µ—Ç —Å `SQLite in-memory` ‚Äî –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏.

---

## üìä –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–û–±—É—á–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–æ–¥–∏–ª–∏—Å—å –≤ —Å–µ—Ä–∏–∏ –Ω–æ—É—Ç–±—É–∫–æ–≤ (`ml_exp/`):

| –≠—Ç–∞–ø  | –û–ø–∏—Å–∞–Ω–∏–µ                                                          |
| ----- | ----------------------------------------------------------------- |
| 01‚Äì02 | –û—á–∏—Å—Ç–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Amazon Grocery –¥–∞–Ω–Ω—ã—Ö                        |
| 03‚Äì04 | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è train/test-—Å–ø–ª–∏—Ç–æ–≤, baseline-–º–æ–¥–µ–ª–∏ (popular, CatBoost) |
| 05‚Äì07 | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CLIP-—ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤, Matching MLP –∏ Contrastive Learning  |
| 08‚Äì09 | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ InfoNCE –∏ Triplet Loss, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è FAISS retrieval     |

–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî **—É—Å—Ç–æ–π—á–∏–≤–∞—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å**, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è —Ä–æ—Å—Ç —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ 2 —Ä–∞–∑–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –±–µ–π–∑–ª–∞–π–Ω–æ–º.

---

## ‚úÖ –ò—Ç–æ–≥–∏

* –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª MVP —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
* –¢–æ—á–Ω–æ—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —É–≤–µ–ª–∏—á–µ–Ω–∞ –≤ 2 —Ä–∞–∑–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ popular-–±–µ–π–∑–ª–∞–π–Ω–∞
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
* –ú–æ–¥–µ–ª—å –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

* [ ] –î–≤—É—Ö—Å—Ç—É–ø–µ–Ω—á–∞—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: retrieval ‚Üí reranker
* [ ] CI/CD –ø–∞–π–ø–ª–∞–π–Ω
* [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∞—à–±–æ—Ä–¥—ã
* [ ] –£–ª—É—á—à–µ–Ω–∏–µ UX Streamlit-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

---

## üì¨ –ê–≤—Ç–æ—Ä

**–†–æ–º–∞–Ω –¢–∏—Ö–æ–Ω–æ–≤**

üìß **Email:** üìß [tikhonovrs96@mail.ru](mailto:tikhonovrs96@mail.ru)  
üí¨ **Telegram:** [@tinovokh](https://t.me/tinovokh)  
üåê **GitHub:** [r0mchikds/mvp](https://github.com/r0mchikds/mvp)  
üìÑ **CV:** [–°—Å—ã–ª–∫–∞ –Ω–∞ Google Docs / PDF](https://drive.google.com/file/d/1z2GlqGx6X9XOYGcQbFFo2QkZR_bhc3Ez/view?usp=sharing)
